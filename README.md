# ğŸ“§ Cloudflare Workers é‚®ä»¶å‘é€ç³»ç»Ÿ# ğŸ“§ Cloudflare Workers é‚®ä»¶ç³»ç»Ÿ#  Cloudflare ï¿½Ê¼ï¿½ï¿½ï¿½ï¿½ï¿½ÏµÍ³



> åŸºäº Cloudflare Workers å’Œ Email Routing çš„è½»é‡çº§é‚®ä»¶å‘é€æœåŠ¡



[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange)](https://workers.cloudflare.com/)> å¸¦ Web UI çš„å®Œæ•´é‚®ä»¶å‘é€ç³»ç»Ÿï¼ŒåŸºäº Cloudflare Workers å’Œ Email Routing> ï¿½ï¿½ï¿½ï¿½ Cloudflare Workers ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ê¼ï¿½ÏµÍ³ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Â¼ï¿½Í·ï¿½ï¿½Í½ï¿½ï¿½ï¿½

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)



## ğŸ“– é¡¹ç›®ä»‹ç»

[![Cloudflare Workers](https://img.shields.io/badge/Cloudflare-Workers-orange)](https://workers.cloudflare.com/)##  ï¿½ï¿½ï¿½ï¿½

è¿™æ˜¯ä¸€ä¸ªåŸºäº Cloudflare Workers æ„å»ºçš„é‚®ä»¶å‘é€ç³»ç»Ÿï¼Œæä¾›ç®€æ´çš„ Web UI å’Œå®Œæ•´çš„ API æ¥å£ã€‚åˆ©ç”¨ Cloudflare Email Routing æœåŠ¡ï¼Œå®ç°é›¶æˆæœ¬çš„ä¼ä¸šçº§é‚®ä»¶å‘é€åŠŸèƒ½ã€‚

[![Auto Deploy](https://img.shields.io/badge/Deploy-Automatic-success)](https://github.com/features/actions)

### âœ¨ ä¸»è¦ç‰¹æ€§

[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)-  ï¿½ï¿½Â¼ï¿½ï¿½Ö¤ï¿½ï¿½JWTï¿½ï¿½

- ğŸ” **ç”¨æˆ·è®¤è¯** - JWT Token è®¤è¯ï¼Œè´¦å·é€šè¿‡ç¯å¢ƒå˜é‡ç®¡ç†

- ğŸ“¤ **å®Œæ•´é‚®ä»¶åŠŸèƒ½** - æ”¯æŒå¤šæ”¶ä»¶äººã€æŠ„é€ï¼ˆCCï¼‰ã€å¯†é€ï¼ˆBCCï¼‰-  Web ï¿½ï¿½ï¿½Í½ï¿½ï¿½ï¿½

- ğŸ“ **å¯Œæ–‡æœ¬ç¼–è¾‘** - æ”¯æŒ HTML æ ¼å¼é‚®ä»¶

- ğŸŒ **å“åº”å¼ç•Œé¢** - é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡## ğŸ¨ åŠŸèƒ½ç‰¹ç‚¹-  5ï¿½ï¿½ï¿½Ê¼ï¿½Ä£ï¿½ï¿½

- ğŸš€ **API æ¥å£** - æ”¯æŒç¨‹åºåŒ–è°ƒç”¨

- âš¡ **é›¶æˆæœ¬** - ä½¿ç”¨ Cloudflare å…è´¹è®¡åˆ’-  ï¿½ï¿½Ó¦Ê½ï¿½ï¿½ï¿½

- ğŸŒ **å…¨çƒåŠ é€Ÿ** - Cloudflare å…¨çƒ CDN ç½‘ç»œ

- ğŸ” **ç”¨æˆ·è®¤è¯** - å®‰å…¨ç™»å½•ç³»ç»Ÿï¼ˆè´¦å·é€šè¿‡ CF ç¯å¢ƒå˜é‡ç®¡ç†ï¼Œæ— æ³¨å†Œæ¥å£ï¼‰-  ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ëºï¿½

## ğŸ“¦ å¿«é€Ÿéƒ¨ç½²

- ğŸ“ **å¯Œæ–‡æœ¬ç¼–è¾‘å™¨** - Quill.js æ”¯æŒæ ¼å¼åŒ–é‚®ä»¶

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Wrangler CLIï¼ˆæ¨èï¼‰

- ğŸ“¤ **å®Œæ•´é‚®ä»¶åŠŸèƒ½** - æ”¯æŒå¤šæ”¶ä»¶äººã€æŠ„é€ã€å¯†é€##  ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

#### 1. ç¯å¢ƒå‡†å¤‡

- ğŸ“‹ **å‘é€å†å²** - è®°å½•å·²å‘é€çš„é‚®ä»¶

```powershell

# å®‰è£…ä¾èµ–- ğŸŒ **å“åº”å¼è®¾è®¡** - é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡### 1 ï¿½Ï´ï¿½ï¿½ï¿½ Cloudflare Pages

npm install

- ğŸ”„ **è‡ªåŠ¨éƒ¨ç½²** - GitHub æ¨é€è‡ªåŠ¨æ›´æ–°åˆ° Cloudflare

# ç™»å½• Cloudflare

npx wrangler login- âš¡ **é›¶æˆæœ¬è¿è¡Œ** - ä½¿ç”¨ Cloudflare å…è´¹è®¡åˆ’**ï¿½ï¿½Òªï¿½Ï´ï¿½ï¿½ï¿½Ğ©ï¿½Ä¼ï¿½ï¿½ï¿½**

```



#### 2. é…ç½®ç¯å¢ƒå˜é‡

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆGitHub + Cloudflare è‡ªåŠ¨éƒ¨ç½²ï¼‰```

åˆ›å»º `.dev.vars` æ–‡ä»¶ï¼ˆæœ¬åœ°å¼€å‘ç”¨ï¼‰ï¼š

public/

```

ADMIN_USERS=admin:your_password### æ­¥éª¤ 1ï¼šFork æˆ–æ¨é€åˆ° GitHub index.html     ï¿½ï¿½Â¼Ò³

JWT_SECRET=your-random-secret-key-here

``` app.html       ï¿½ï¿½ï¿½Í½ï¿½ï¿½ï¿½



**ç¯å¢ƒå˜é‡è¯´æ˜ï¼š****æ–¹å¼ Aï¼šFork æœ¬ä»“åº“** style.css      ï¿½ï¿½Ê½



| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹ |- ç‚¹å‡»å³ä¸Šè§’ "Fork" æŒ‰é’® app.js         Ç°ï¿½ï¿½ï¿½ß¼ï¿½

|--------|------|------|

| `ADMIN_USERS` | ç”¨æˆ·è´¦å·ï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰ | `admin:Pass123,user:Pass456` |```

| `JWT_SECRET` | JWT åŠ å¯†å¯†é’¥ï¼ˆå»ºè®® 32 ä½ä»¥ä¸Šï¼‰ | `random-secret-key-2025` |

**æ–¹å¼ Bï¼šæ¨é€ç°æœ‰ä»£ç **

#### 3. éƒ¨ç½²åˆ° Cloudflare

```powershell**ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è£º**

```powershell

# éƒ¨ç½² Workercd d:\email1. ï¿½ï¿½Â¼ https://dash.cloudflare.com

npm run deploy

```git init2. Workers & Pages  Create  Pages  Upload assets



éƒ¨ç½²æˆåŠŸåä¼šæ˜¾ç¤ºè®¿é—®åœ°å€ï¼š`https://your-worker.your-account.workers.dev`git add .3. ï¿½Ï´ï¿½ `public` ï¿½Ä¼ï¿½ï¿½Ğµï¿½ 4 ï¿½ï¿½ï¿½Ä¼ï¿½



#### 4. é…ç½®ç”Ÿäº§ç¯å¢ƒå˜é‡git commit -m "Initial commit"4. ï¿½ï¿½Â¼ Pages URLï¿½ï¿½ï¿½ç£º`https://xxx.pages.dev`ï¿½ï¿½



1. è®¿é—® [Cloudflare Dashboard](https://dash.cloudflare.com)git branch -M main

2. è¿›å…¥ **Workers & Pages** â†’ é€‰æ‹©ä½ çš„ Worker

3. ç‚¹å‡» **Settings** â†’ **Variables**git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä»“åº“å.git### 2 ï¿½ï¿½ï¿½ï¿½ Worker

4. æ·»åŠ ç¯å¢ƒå˜é‡ï¼š

   - `ADMIN_USERS`: `admin:YourSecurePassword`git push -u origin main

   - `JWT_SECRET`: `your-random-secret-key` (å‹¾é€‰ Encrypt)

5. ç‚¹å‡» **Save and Deploy**``````powershell



#### 5. é…ç½® Email Routingnpx wrangler login



1. åœ¨ Cloudflare Dashboard é€‰æ‹©ä½ çš„åŸŸå### æ­¥éª¤ 2ï¼šè·å– Cloudflare å‡­è¯npm run deploy

2. è¿›å…¥ **Email** â†’ **Email Routing**

3. ç‚¹å‡» **Enable Email Routing**```

4. æ·»åŠ ç›®æ ‡é‚®ç®±åœ°å€å¹¶å®ŒæˆéªŒè¯

5. ç°åœ¨å¯ä»¥ä½¿ç”¨ `your-name@yourdomain.com` ä½œä¸ºå‘ä»¶äºº1. **è·å– API Token**



### æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²   - è®¿é—®ï¼šhttps://dash.cloudflare.com/profile/api-tokensï¿½ï¿½Â¼ Worker URLï¿½ï¿½ï¿½ç£º`https://xxx.workers.dev`ï¿½ï¿½



#### 1. åˆ›å»º Worker   - ç‚¹å‡» "Create Token"



1. è®¿é—® [Cloudflare Dashboard](https://dash.cloudflare.com)   - ä½¿ç”¨ "Edit Cloudflare Workers" æ¨¡æ¿### 3 ï¿½ï¿½ï¿½Ã»ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

2. è¿›å…¥ **Workers & Pages** â†’ **Create application** â†’ **Create Worker**

3. ä¸º Worker å‘½åï¼ˆå¦‚ `email-sender`ï¼‰   - å¤åˆ¶ç”Ÿæˆçš„ Tokenï¼ˆâš ï¸ åªæ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰

4. ç‚¹å‡» **Deploy**

ï¿½ï¿½ Worker ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ó£ï¿½

#### 2. ä¸Šä¼ ä»£ç 

2. **è·å– Account ID**

1. ç‚¹å‡» **Quick edit**

2. å¤åˆ¶ `src/index.js` çš„å†…å®¹åˆ°ç¼–è¾‘å™¨   - è®¿é—®ï¼šhttps://dash.cloudflare.com| ï¿½ï¿½ï¿½ï¿½ | ÖµÊ¾ï¿½ï¿½ | Ëµï¿½ï¿½ |

3. ç‚¹å‡» **Save and Deploy**

   - å³ä¾§ "Account ID"ï¼Œç‚¹å‡»å¤åˆ¶|------|--------|------|

#### 3. é…ç½®ç¯å¢ƒå˜é‡å’Œ Email Routing

| `USERS` | `{"admin":"pass123"}` | ï¿½Ëºï¿½ï¿½ï¿½ï¿½ï¿½ |

å‚è€ƒæ–¹å¼ä¸€çš„æ­¥éª¤ 4 å’Œæ­¥éª¤ 5

### æ­¥éª¤ 3ï¼šé…ç½® GitHub Secrets| `JWT_SECRET` | `random-secret-key` | JWTï¿½ï¿½Ô¿ |

## ğŸ¯ ä½¿ç”¨æ–¹å¼

| `CORS_ORIGIN` | `https://xxx.pages.dev` | Pages URL |

### Web ç•Œé¢ä½¿ç”¨

1. è¿›å…¥ä½ çš„ GitHub ä»“åº“

#### 1. ç™»å½•ç³»ç»Ÿ

2. Settings â†’ Secrets and variables â†’ Actions### 4 ï¿½ï¿½ï¿½ï¿½Ç°ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

è®¿é—®ï¼š`https://your-worker.workers.dev/login`

3. ç‚¹å‡» "New repository secret"

- è¾“å…¥åœ¨ç¯å¢ƒå˜é‡ä¸­é…ç½®çš„ç”¨æˆ·åå’Œå¯†ç 

- ç™»å½•æˆåŠŸåä¼šè‡ªåŠ¨è·³è½¬åˆ°é‚®ä»¶å‘é€ç•Œé¢4. æ·»åŠ ä¸¤ä¸ª Secretsï¼šï¿½à¼­ `public/app.js` ï¿½ï¿½2ï¿½Ğ£ï¿½



#### 2. å‘é€é‚®ä»¶



1. **å‘ä»¶äºº**ï¼šè¾“å…¥ä½ çš„åŸŸåé‚®ç®±ï¼ˆéœ€åœ¨ Email Routing ä¸­é…ç½®ï¼‰   | Name | Value |```javascript

2. **æ”¶ä»¶äºº**ï¼šè¾“å…¥æ”¶ä»¶äººé‚®ç®±ï¼ˆå¤šä¸ªç”¨é€—å·åˆ†éš”ï¼‰

3. **ä¸»é¢˜**ï¼šè¾“å…¥é‚®ä»¶ä¸»é¢˜   |------|-------|const API_BASE_URL = 'https://ï¿½ï¿½ï¿½worker.workers.dev';

4. **å†…å®¹**ï¼šç¼–å†™é‚®ä»¶å†…å®¹ï¼ˆæ”¯æŒå¯Œæ–‡æœ¬æ ¼å¼ï¼‰

5. å¯é€‰ï¼šå¡«å†™æŠ„é€ï¼ˆCCï¼‰å’Œå¯†é€ï¼ˆBCCï¼‰   | `CLOUDFLARE_API_TOKEN` | ä½ çš„ Cloudflare API Token |```

6. ç‚¹å‡»"å‘é€é‚®ä»¶"æŒ‰é’®

   | `CLOUDFLARE_ACCOUNT_ID` | ä½ çš„ Cloudflare Account ID |

### API æ¥å£ä½¿ç”¨

ï¿½ï¿½ï¿½ï¿½ï¿½Ï´ï¿½ï¿½ï¿½ Pagesï¿½ï¿½

#### 1. ç™»å½•è·å– Token

### æ­¥éª¤ 4ï¼šè§¦å‘é¦–æ¬¡éƒ¨ç½²

**è¯·æ±‚ï¼š**

### 5 ï¿½ï¿½ï¿½ï¿½ Email Routing

```powershell

$body = @{username="admin"; password="your_password"} | ConvertTo-Json```powershell

Invoke-RestMethod -Uri "https://your-worker.workers.dev/api/login" -Method Post -Body $body -ContentType "application/json"

```# æ¨é€ä»»æ„æ›´æ”¹è§¦å‘éƒ¨ç½²1. Cloudflare  ï¿½ï¿½ï¿½ï¿½  Email  Email Routing



**å“åº”ï¼š**git commit --allow-empty -m "Trigger deployment"2. Enable Email Routing



```jsongit push3. ï¿½ï¿½ï¿½Ó²ï¿½ï¿½ï¿½Ö¤Ä¿ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

{

  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",```

  "username": "admin"

}##  Ê¹ï¿½ï¿½

```

æˆ–åœ¨ GitHub ä¸Šï¼šActions â†’ Deploy to Cloudflare Workers â†’ Run workflow

#### 2. å‘é€é‚®ä»¶

1. ï¿½ï¿½ï¿½ï¿½ Pages URL

**è¯·æ±‚ï¼š**

### æ­¥éª¤ 5ï¼šé…ç½® Cloudflare ç¯å¢ƒå˜é‡2. ï¿½ï¿½ï¿½ï¿½ï¿½Ãµï¿½ï¿½ËºÅµï¿½Â¼

```powershell

$headers = @{3. ï¿½ï¿½Ğ´ï¿½Ê¼ï¿½ï¿½ï¿½Ï¢ï¿½ï¿½ï¿½ï¿½

    "Content-Type" = "application/json"

    "Authorization" = "Bearer your-jwt-token"éƒ¨ç½²æˆåŠŸåï¼š

}

$body = @{##  ï¿½ï¿½ï¿½Ø¿ï¿½ï¿½ï¿½

    from = "noreply@yourdomain.com"

    to = "user@example.com"1. è®¿é—® https://dash.cloudflare.com

    subject = "æµ‹è¯•é‚®ä»¶"

    html = "<h1>Hello</h1><p>è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶</p>"2. Workers & Pages â†’ `email-sender-worker````powershell

} | ConvertTo-Json

3. Settings â†’ Variables â†’ Environment Variables# ï¿½ï¿½ï¿½

Invoke-RestMethod -Uri "https://your-worker.workers.dev/api/send" -Method Post -Body $body -Headers $headers

```4. æ·»åŠ ä»¥ä¸‹å˜é‡ï¼šnpm run dev



**å“åº”ï¼š**



```json   | Variable name | Value | Type |# Ç°ï¿½Ë£ï¿½ï¿½ï¿½ï¿½Õ¶Ë£ï¿½

{

  "success": true,   |---------------|-------|------|cd public

  "message": "é‚®ä»¶å‘é€æˆåŠŸ",

  "messageId": "xxx@yourdomain.com"   | `ADMIN_USERS` | `admin:YourPassword123` | Text |python -m http.server 8080

}

```   | `JWT_SECRET` | `random-secret-key-2025` | Secret |```



#### API ç«¯ç‚¹è¯´æ˜



| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ | è®¤è¯ |   **æ ¼å¼è¯´æ˜ï¼š**ï¿½ï¿½ï¿½ï¿½ http://127.0.0.1:8080

|------|------|------|------|

| `/api/login` | POST | ç”¨æˆ·ç™»å½•è·å– Token | æ— éœ€ |   - `ADMIN_USERS`ï¼šå¤šä¸ªè´¦å·ç”¨é€—å·åˆ†éš”ï¼Œå¦‚ `admin:Pass123,user:Pass456`

| `/api/send` | POST | å‘é€é‚®ä»¶ | éœ€è¦ JWT Token |

| `/api/verify` | POST | éªŒè¯ Token æœ‰æ•ˆæ€§ | éœ€è¦ JWT Token |   - `JWT_SECRET`ï¼šéšæœºå­—ç¬¦ä¸²ï¼Œå»ºè®® 32 ä½ä»¥ä¸Š##  ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½



#### é‚®ä»¶å‚æ•°è¯´æ˜



| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |5. ç‚¹å‡» "Save and Deploy"**Q: ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ã»ï¿½ï¿½ï¿½**  

|------|------|------|------|

| `from` | String | âœ… | å‘ä»¶äººé‚®ç®±ï¼ˆéœ€åœ¨ Email Routing ä¸­é…ç½®ï¼‰ |ï¿½Ş¸ï¿½ Worker ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ `USERS`

| `to` | String/Array | âœ… | æ”¶ä»¶äººé‚®ç®±ï¼ˆå¤šä¸ªç”¨æ•°ç»„æˆ–é€—å·åˆ†éš”ï¼‰ |

| `subject` | String | âœ… | é‚®ä»¶ä¸»é¢˜ |### æ­¥éª¤ 6ï¼šå¯ç”¨ Email Routing

| `text` | String | âŒ | çº¯æ–‡æœ¬å†…å®¹ |

| `html` | String | âŒ | HTML æ ¼å¼å†…å®¹ |**Q: ï¿½Õ²ï¿½ï¿½ï¿½ï¿½Ê¼ï¿½ï¿½ï¿½**  

| `cc` | String/Array | âŒ | æŠ„é€ |

| `bcc` | String/Array | âŒ | å¯†é€ |1. åœ¨ Cloudflare Dashboard é€‰æ‹©ä½ çš„åŸŸåï¿½ï¿½é£ºï¿½ï¿½ï¿½ï¿½ï¿½ä¡¢ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ö¤ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½È·

| `replyTo` | String | âŒ | å›å¤åœ°å€ |

2. Email â†’ Email Routing â†’ Enable

**æ³¨æ„ï¼š** `text` å’Œ `html` è‡³å°‘éœ€è¦æä¾›ä¸€ä¸ª

3. Destination addresses â†’ Add destination address##  ï¿½ï¿½ï¿½ï¿½Ö¤

### ç¼–ç¨‹è¯­è¨€ç¤ºä¾‹

4. è¾“å…¥ä½ çš„é‚®ç®±å¹¶éªŒè¯

#### JavaScript/Node.js

MIT

```javascript

// ç™»å½•### ğŸ‰ å®Œæˆï¼

const loginResponse = await fetch('https://your-worker.workers.dev/api/login', {

  method: 'POST',**è®¿é—®åœ°å€ï¼š**

  headers: { 'Content-Type': 'application/json' },```

  body: JSON.stringify({ username: 'admin', password: 'your_password' })https://email-sender-worker.ä½ çš„è´¦å·.workers.dev/login

});```

const { token } = await loginResponse.json();

**ä»¥åæ›´æ–°åªéœ€ï¼š**

// å‘é€é‚®ä»¶```powershell

const sendResponse = await fetch('https://your-worker.workers.dev/api/send', {git add .

  method: 'POST',git commit -m "æ›´æ–°å†…å®¹"

  headers: {git push

    'Content-Type': 'application/json',```

    'Authorization': `Bearer ${token}`

  },GitHub Actions ä¼šè‡ªåŠ¨éƒ¨ç½²ï¼âœ¨

  body: JSON.stringify({

    from: 'noreply@yourdomain.com',## ğŸ“ é¡¹ç›®ç»“æ„

    to: 'user@example.com',

    subject: 'æµ‹è¯•é‚®ä»¶',```

    html: '<h1>Hello World</h1>'email/

  })â”œâ”€â”€ .github/

});â”‚   â””â”€â”€ workflows/

const result = await sendResponse.json();â”‚       â””â”€â”€ deploy.yml          â† GitHub Actions è‡ªåŠ¨éƒ¨ç½²é…ç½®

console.log(result);â”œâ”€â”€ src/

```â”‚   â””â”€â”€ index-with-ui.js        â† ä¸»ç¨‹åºï¼ˆåç«¯ + å‰ç«¯ï¼‰

â”œâ”€â”€ public/

#### Pythonâ”‚   â”œâ”€â”€ index.html              â† é‚®ä»¶å‘é€ç•Œé¢

â”‚   â””â”€â”€ login.html              â† ç™»å½•ç•Œé¢

```pythonâ”œâ”€â”€ wrangler.json               â† Cloudflare Workers é…ç½®

import requestsâ”œâ”€â”€ package.json                â† ä¾èµ–é…ç½®

â””â”€â”€ README.md                   â† ä½¿ç”¨è¯´æ˜

# ç™»å½•```

login_response = requests.post(

    'https://your-worker.workers.dev/api/login',## ğŸ¯ ä½¿ç”¨æŒ‡å—

    json={'username': 'admin', 'password': 'your_password'}

)### ç™»å½•ç³»ç»Ÿ

token = login_response.json()['token']1. è®¿é—® `https://ä½ çš„workeråœ°å€/login`

2. è¾“å…¥åœ¨ Cloudflare ç¯å¢ƒå˜é‡ä¸­è®¾ç½®çš„è´¦å·å¯†ç 

# å‘é€é‚®ä»¶3. ç™»å½•æˆåŠŸåè‡ªåŠ¨è·³è½¬åˆ°å‘é€ç•Œé¢

send_response = requests.post(

    'https://your-worker.workers.dev/api/send',### å‘é€é‚®ä»¶

    headers={1. **å‘ä»¶äºº**ï¼šå¿…é¡»æ˜¯ä½ åŸŸåä¸‹çš„é‚®ç®±ï¼ˆå¦‚ `noreply@yourdomain.com`ï¼‰

        'Content-Type': 'application/json',2. **æ”¶ä»¶äºº**ï¼šå¯ä»¥æ˜¯å¤šä¸ªï¼Œç”¨é€—å·åˆ†éš”

        'Authorization': f'Bearer {token}'3. **ä¸»é¢˜**ï¼šé‚®ä»¶æ ‡é¢˜

    },4. **å†…å®¹**ï¼šæ”¯æŒçº¯æ–‡æœ¬æˆ–å¯Œæ–‡æœ¬ï¼ˆHTMLï¼‰

    json={5. ç‚¹å‡»"å‘é€é‚®ä»¶"æŒ‰é’®

        'from': 'noreply@yourdomain.com',

        'to': 'user@example.com',### ç®¡ç†è´¦å·

        'subject': 'æµ‹è¯•é‚®ä»¶',åœ¨ Cloudflare Dashboard ä¿®æ”¹ `ADMIN_USERS` æˆ– `USERS` ç¯å¢ƒå˜é‡ï¼š

        'html': '<h1>Hello World</h1>'```

    }æ ¼å¼ï¼šç”¨æˆ·å1:å¯†ç 1,ç”¨æˆ·å2:å¯†ç 2

)ç¤ºä¾‹ï¼šadmin:SecurePass123,sales:Sales2025,support:Support456

print(send_response.json())```

```

ä¿®æ”¹åç‚¹å‡» "Save and Deploy" ä½¿é…ç½®ç”Ÿæ•ˆã€‚

## ğŸ”§ æœ¬åœ°å¼€å‘

## ğŸ”§ æœ¬åœ°å¼€å‘

### 1. å®‰è£…ä¾èµ–

1. **å®‰è£…ä¾èµ–**

```powershell   ```powershell

npm install   npm install

```   ```



### 2. é…ç½®æœ¬åœ°ç¯å¢ƒ2. **åˆ›å»ºæœ¬åœ°ç¯å¢ƒå˜é‡**

   

åˆ›å»º `.dev.vars` æ–‡ä»¶ï¼š   åˆ›å»º `.dev.vars` æ–‡ä»¶ï¼š

   ```

```   ADMIN_USERS=admin:test123,demo:demo123

ADMIN_USERS=admin:test123   JWT_SECRET=local-development-secret-key

JWT_SECRET=local-dev-secret-key   ```

```

3. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨   ```powershell

   npm run dev

```powershell   ```

npm run dev

```4. **è®¿é—®**

   ```

è®¿é—®ï¼š`http://localhost:8787/login`   http://localhost:8787/login

   ```

### 4. æœ¬åœ°æµ‹è¯•é‚®ä»¶å‘é€

## ğŸ“Š ç›‘æ§éƒ¨ç½²

**æ³¨æ„ï¼š** æœ¬åœ°å¼€å‘ç¯å¢ƒæ— æ³•çœŸå®å‘é€é‚®ä»¶ï¼Œéœ€è¦éƒ¨ç½²åˆ° Cloudflare æ‰èƒ½ä½¿ç”¨ Email Routing åŠŸèƒ½ã€‚

### GitHub Actions

## ğŸ“ é¡¹ç›®ç»“æ„- ä»“åº“ â†’ Actions æ ‡ç­¾

- æŸ¥çœ‹éƒ¨ç½²å†å²å’Œæ—¥å¿—

```- ç»¿è‰² âœ… = æˆåŠŸï¼Œçº¢è‰² âŒ = å¤±è´¥

email/

â”œâ”€â”€ src/### Cloudflare Dashboard

â”‚   â””â”€â”€ index.js                 # ä¸»ç¨‹åºï¼ˆAPI + å‰ç«¯è·¯ç”±ï¼‰- Workers & Pages â†’ ä½ çš„ Worker

â”œâ”€â”€ public/- Deploymentsï¼šæŸ¥çœ‹éƒ¨ç½²å†å²

â”‚   â”œâ”€â”€ index.html               # é‚®ä»¶å‘é€ç•Œé¢- Real-time logsï¼šå®æ—¶æ—¥å¿—

â”‚   â””â”€â”€ login.html               # ç™»å½•ç•Œé¢- Metricsï¼šæ€§èƒ½æŒ‡æ ‡

â”œâ”€â”€ frontend-standalone/         # ç‹¬ç«‹å‰ç«¯é¡µé¢ï¼ˆå¯é€‰ï¼‰

â”‚   â”œâ”€â”€ index.html## ğŸ”„ ç‰ˆæœ¬ç®¡ç†

â”‚   â”œâ”€â”€ login.html

â”‚   â””â”€â”€ config.html### æŸ¥çœ‹éƒ¨ç½²å†å²

â”œâ”€â”€ wrangler.json                # Cloudflare Workers é…ç½®Cloudflare Dashboard â†’ Workers & Pages â†’ Deployments

â”œâ”€â”€ package.json                 # ä¾èµ–é…ç½®

â””â”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£### å›æ»šåˆ°ä¹‹å‰ç‰ˆæœ¬

```1. æ‰¾åˆ°æƒ³è¦å›æ»šçš„ç‰ˆæœ¬

2. ç‚¹å‡»å³ä¾§ "..." â†’ Rollback to this deployment

## ğŸ”’ å®‰å…¨å»ºè®®3. æˆ–è€…åœ¨ GitHub å›é€€ commit åæ¨é€



### è´¦å·å®‰å…¨### åˆ†æ”¯éƒ¨ç½²

GitHub Actions é…ç½®æ”¯æŒå¤šåˆ†æ”¯ï¼š

- âœ… ä½¿ç”¨å¼ºå¯†ç ï¼ˆè‡³å°‘ 12 ä½ï¼ŒåŒ…å«å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œç‰¹æ®Šå­—ç¬¦ï¼‰```yaml

- âœ… å®šæœŸæ›´æ¢å¯†ç on:

- âœ… ä¸åŒç”¨æˆ·ä½¿ç”¨ä¸åŒå¯†ç   push:

- âœ… JWT_SECRET ä½¿ç”¨éšæœºå­—ç¬¦ä¸²ï¼Œä¸è¦æ³„éœ²    branches:

      - main      # ç”Ÿäº§ç¯å¢ƒ

### é‚®ä»¶å®‰å…¨      - develop   # å¼€å‘ç¯å¢ƒ

```

- âœ… å‘ä»¶äººåŸŸåå¿…é¡»é…ç½® Email Routing

- âœ… æ”¶ä»¶äººé‚®ç®±éœ€è¦éªŒè¯## ğŸ”’ å®‰å…¨è¯´æ˜

- âœ… é¿å…ç”¨äºå‘é€åƒåœ¾é‚®ä»¶ï¼ˆä¼šè¢«å°ç¦ï¼‰

- âœ… è®¾ç½®åˆç†çš„å‘é€é¢‘ç‡é™åˆ¶### API Token å®‰å…¨

- âš ï¸ **ä¸è¦**åœ¨ä»£ç ä¸­ç¡¬ç¼–ç  Token

### API å®‰å…¨- âœ… **ä½¿ç”¨** GitHub Secrets å­˜å‚¨

- âœ… **æœ€å°æƒé™**åŸåˆ™

- âœ… ç”Ÿäº§ç¯å¢ƒå¯ç”¨ HTTPS- âœ… **å®šæœŸè½®æ¢** Token

- âœ… é™åˆ¶ CORS æ¥æºï¼ˆå¯é…ç½® `CORS_ORIGIN` ç¯å¢ƒå˜é‡ï¼‰

- âœ… Token è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´### è´¦å·å®‰å…¨

- âœ… ç›‘æ§å¼‚å¸¸è¯·æ±‚- âœ… ä½¿ç”¨å¼ºå¯†ç ï¼ˆè‡³å°‘ 8 ä½ï¼Œå­—æ¯+æ•°å­—+ç‰¹æ®Šå­—ç¬¦ï¼‰

- âœ… ä¸åŒç”¨æˆ·ä½¿ç”¨ä¸åŒå¯†ç 

## â“ å¸¸è§é—®é¢˜- âœ… å®šæœŸæ›´æ¢å¯†ç 

- âœ… ç›‘æ§ç™»å½•æ—¥å¿—

### Q1: å¦‚ä½•æ·»åŠ æ–°ç”¨æˆ·ï¼Ÿ

### é‚®ä»¶å®‰å…¨

ä¿®æ”¹ Cloudflare ç¯å¢ƒå˜é‡ `ADMIN_USERS`ï¼š- âœ… å‘ä»¶äººåŸŸåå¿…é¡»é…ç½® Email Routing

- âœ… æ”¶ä»¶äººå¿…é¡»éªŒè¯

```- âœ… é˜²æ­¢è¢«ç”¨äºåƒåœ¾é‚®ä»¶

admin:Pass123,user1:Pass456,user2:Pass789

```## â“ å¸¸è§é—®é¢˜



ä¿®æ”¹åç‚¹å‡» "Save and Deploy"ã€‚### Q: GitHub Actions éƒ¨ç½²å¤±è´¥ï¼Ÿ

**æ£€æŸ¥æ¸…å•ï¼š**

### Q2: æ”¶ä¸åˆ°é‚®ä»¶æ€ä¹ˆåŠï¼Ÿ1. Secrets æ˜¯å¦æ­£ç¡®è®¾ç½®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰

2. API Token æƒé™æ˜¯å¦è¶³å¤Ÿ

**æ’æŸ¥æ­¥éª¤ï¼š**3. Account ID æ˜¯å¦æ­£ç¡®

4. æŸ¥çœ‹ Actions æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯

1. æ£€æŸ¥åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹

2. ç¡®è®¤æ”¶ä»¶äººé‚®ç®±å·²åœ¨ Email Routing ä¸­éªŒè¯### Q: éƒ¨ç½²æˆåŠŸä½†è®¿é—® 404ï¼Ÿ

3. ç¡®è®¤å‘ä»¶äººä½¿ç”¨çš„æ˜¯å·²é…ç½®çš„åŸŸåé‚®ç®±**è§£å†³æ–¹æ³•ï¼š**

4. æŸ¥çœ‹ Worker æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯1. ç­‰å¾…å‡ åˆ†é’Ÿè®©é…ç½®ç”Ÿæ•ˆ

2. ç¡®è®¤ Worker åç§°ï¼š`email-sender-worker`

### Q3: ç™»å½•å¤±è´¥ï¼Ÿ3. è®¿é—®å®Œæ•´ URLï¼š`https://email-sender-worker.ä½ çš„è´¦å·.workers.dev/login`



**æ£€æŸ¥ï¼š**### Q: ç™»å½•å¤±è´¥ï¼Ÿ

**æ£€æŸ¥ï¼š**

1. ç¡®è®¤ç¯å¢ƒå˜é‡ `ADMIN_USERS` å·²æ­£ç¡®é…ç½®1. ç¡®è®¤ç¯å¢ƒå˜é‡ `ADMIN_USERS` æˆ– `USERS` æ˜¯å¦å·²é…ç½®

2. æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼š`username:password`2. ç¯å¢ƒå˜é‡æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼š`username:password,username2:password2`

3. å¯†ç ä¸è¦åŒ…å«å†’å·ï¼ˆ:ï¼‰æˆ–é€—å·ï¼ˆ,ï¼‰3. å¯†ç ä¸­ä¸è¦åŒ…å«é€—å·æˆ–å†’å·

4. ä¿®æ”¹åæ˜¯å¦ç‚¹å‡»äº† "Save and Deploy"4. ä¿®æ”¹ç¯å¢ƒå˜é‡åéœ€è¦ "Save and Deploy"

5. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å’Œ localStorage5. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å’Œ localStorage

6. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰è¯¦ç»†é”™è¯¯ä¿¡æ¯

### Q4: å¦‚ä½•ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼Ÿ

### Q: æ”¶ä¸åˆ°é‚®ä»¶ï¼Ÿ

1. è¿›å…¥ Worker â†’ **Triggers** â†’ **Custom Domains****æ’æŸ¥æ­¥éª¤ï¼š**

2. ç‚¹å‡» **Add Custom Domain**1. æ£€æŸ¥åƒåœ¾é‚®ä»¶æ–‡ä»¶å¤¹

3. è¾“å…¥åŸŸåï¼ˆå¦‚ `mail.yourdomain.com`ï¼‰2. ç¡®è®¤æ”¶ä»¶äººé‚®ç®±å·²åœ¨ Email Routing ä¸­éªŒè¯

4. æŒ‰æç¤ºæ·»åŠ  DNS è®°å½•3. ç¡®è®¤å‘ä»¶äººä½¿ç”¨æ­£ç¡®çš„åŸŸå

4. æŸ¥çœ‹ Worker æ—¥å¿—

### Q5: å…è´¹é¢åº¦å¤Ÿç”¨å—ï¼Ÿ

### Q: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰åŸŸåï¼Ÿ

**Cloudflare å…è´¹è®¡åˆ’ï¼š**1. Workers & Pages â†’ ä½ çš„ Worker â†’ Triggers

2. Custom Domains â†’ Add Custom Domain

- âœ… Workers: 100,000 æ¬¡è¯·æ±‚/å¤©3. è¾“å…¥åŸŸåï¼ˆå¦‚ `mail.yourdomain.com`ï¼‰

- âœ… Email Routing: æ— é™é‡è½¬å‘4. æ·»åŠ  DNS è®°å½•ï¼ˆè‡ªåŠ¨æç¤ºï¼‰

- âœ… è¶³å¤Ÿä¸ªäººå’Œå°å›¢é˜Ÿä½¿ç”¨

### Q: å…è´¹é¢åº¦å¤Ÿç”¨å—ï¼Ÿ

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–**Cloudflare å…è´¹è®¡åˆ’ï¼š**

- âœ… 100,000 æ¬¡è¯·æ±‚/å¤©

- **CDN åŠ é€Ÿ**ï¼šCloudflare å…¨çƒ 300+ èŠ‚ç‚¹- âœ… è¶³å¤Ÿä¸ªäººå’Œå°å›¢é˜Ÿä½¿ç”¨

- **è¯·æ±‚ç¼“å­˜**ï¼šé™æ€èµ„æºè‡ªåŠ¨ç¼“å­˜- âœ… è¶…å‡ºå¯å‡çº§åˆ°ä»˜è´¹è®¡åˆ’

- **å¿«é€Ÿå“åº”**ï¼šè¾¹ç¼˜è®¡ç®—ï¼Œä½å»¶è¿Ÿ

- **è‡ªåŠ¨æ‰©å±•**ï¼šæ— éœ€å…³å¿ƒæœåŠ¡å™¨å®¹é‡## ğŸŒŸ é¡¹ç›®äº®ç‚¹



## ğŸ†™ æ›´æ–°æ—¥å¿—| ç‰¹æ€§ | è¯´æ˜ |

|------|------|

### v1.0.0 (2025-01-01)| ğŸ”„ **è‡ªåŠ¨éƒ¨ç½²** | Git push å³è‡ªåŠ¨éƒ¨ç½² |

| ğŸ“ **ç‰ˆæœ¬æ§åˆ¶** | å®Œæ•´çš„ Git å†å²è®°å½• |

- âœ¨ åˆå§‹ç‰ˆæœ¬å‘å¸ƒ| ğŸ“Š **éƒ¨ç½²æ—¥å¿—** | GitHub Actions è¯¦ç»†æ—¥å¿— |

- âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿ| ğŸ”™ **å¿«é€Ÿå›æ»š** | ä¸€é”®å›æ»šåˆ°ä»»æ„ç‰ˆæœ¬ |

- âœ… Web UI ç•Œé¢| ğŸ†“ **å®Œå…¨å…è´¹** | GitHub + Cloudflare å…è´¹ |

- âœ… API æ¥å£| ğŸŒ **å…¨çƒåŠ é€Ÿ** | Cloudflare CDN 300+ èŠ‚ç‚¹ |

- âœ… å¤šæ”¶ä»¶äººæ”¯æŒ| ğŸ”’ **å®‰å…¨å¯é ** | ä¼ä¸šçº§å®‰å…¨é˜²æŠ¤ |

- âœ… HTML é‚®ä»¶æ”¯æŒ

## ğŸ“š é«˜çº§ç”¨æ³•

## ğŸ“„ å¼€æºåè®®

### API æ¥å£ï¼ˆå¯é€‰ï¼‰

MIT License - å¯è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘

å¦‚æœéœ€è¦é€šè¿‡ API è°ƒç”¨ï¼š

## ğŸ”— ç›¸å…³èµ„æº

```bash

- [Cloudflare Email Routing æ–‡æ¡£](https://developers.cloudflare.com/email-routing/)# 1. ç™»å½•è·å– Token

- [Cloudflare Workers æ–‡æ¡£](https://developers.cloudflare.com/workers/)curl -X POST https://your-worker.workers.dev/api/login \

- [Wrangler CLI æ–‡æ¡£](https://developers.cloudflare.com/workers/wrangler/)  -H "Content-Type: application/json" \

  -d '{"username":"admin","password":"yourpass"}'

## ğŸ¤ è´¡çŒ®

# 2. ä½¿ç”¨ Token å‘é€é‚®ä»¶

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼curl -X POST https://your-worker.workers.dev/api/send \

  -H "Content-Type: application/json" \

## ğŸ’¬ æ”¯æŒ  -H "Authorization: Bearer YOUR_TOKEN" \

  -d '{

- ğŸ“– æŸ¥çœ‹æœ¬æ–‡æ¡£    "from": "noreply@yourdomain.com",

- ğŸ’¬ æäº¤ [GitHub Issues](https://github.com/your-repo/issues)    "to": "user@example.com",

- ğŸŒ è®¿é—® [Cloudflare ç¤¾åŒº](https://community.cloudflare.com/)    "subject": "æµ‹è¯•é‚®ä»¶",

    "text": "è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶",

---    "html": "<h1>æµ‹è¯•</h1><p>è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶</p>"

  }'

**å¼€å§‹ä½¿ç”¨ â†’** æŒ‰ç…§ä¸Šé¢çš„éƒ¨ç½²æ­¥éª¤å¼€å§‹ä½ çš„é‚®ä»¶æœåŠ¡ï¼```



**è§‰å¾—æœ‰ç”¨ï¼Ÿ** ç»™ä¸ª â­ Star å§ï¼### ç¯å¢ƒå˜é‡å®Œæ•´è¯´æ˜


| å˜é‡å | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|------|
| `ADMIN_USERS` æˆ– `USERS` | âœ… | ç”¨æˆ·è´¦å·åˆ—è¡¨ | `admin:Pass123,user:Pass456` |
| `JWT_SECRET` | âœ… | JWT åŠ å¯†å¯†é’¥ | `random-secret-key-123` |

## ğŸ“„ è®¸å¯è¯

MIT License - å¯è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘

## ğŸ”— ç›¸å…³èµ„æº

- [Cloudflare Email Routing æ–‡æ¡£](https://developers.cloudflare.com/email-routing/)
- [Cloudflare Workers æ–‡æ¡£](https://developers.cloudflare.com/workers/)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [Wrangler CLI æ–‡æ¡£](https://developers.cloudflare.com/workers/wrangler/)
- [Quill.js å¯Œæ–‡æœ¬ç¼–è¾‘å™¨](https://quilljs.com/)

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

æäº¤å‰è¯·ç¡®ä¿ï¼š
- ä»£ç é€šè¿‡æµ‹è¯•
- éµå¾ªç°æœ‰ä»£ç é£æ ¼
- æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“ æ”¯æŒ

- ğŸ“– æŸ¥çœ‹æ–‡æ¡£ï¼šæœ¬ README
- ğŸ’¬ æäº¤ Issueï¼š[GitHub Issues](https://github.com/your-repo/issues)
- ğŸŒ Cloudflare ç¤¾åŒºï¼š[community.cloudflare.com](https://community.cloudflare.com/)

---

**å¼€å§‹ä½¿ç”¨ â†’** æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤éƒ¨ç½²ä½ çš„é‚®ä»¶ç³»ç»Ÿï¼

**é‡åˆ°é—®é¢˜ï¼Ÿ** æŸ¥çœ‹å¸¸è§é—®é¢˜æˆ–æäº¤ Issue

**è§‰å¾—æœ‰ç”¨ï¼Ÿ** ç»™ä¸ª â­ Star å§ï¼
